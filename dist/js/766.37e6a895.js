"use strict";(self["webpackChunkCAPI"]=self["webpackChunkCAPI"]||[]).push([[766],{3766:function(e,t,s){s.r(t),s.d(t,{default:function(){return k}});var r=s(6252),a=s(3577);const i={id:"cards"},c=["id","onClick","src"],l=["id","onClick","src"],n=["disabled"];function d(e,t,s,d,o,u){return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",null,[(0,r._)("h2",null,"BACKLOG #"+(0,a.zw)(o.currentBacklogDisplay),1),(0,r._)("h1",null,(0,a.zw)(o.currentBacklogLabel),1),(0,r._)("h3",null,[(0,r.Uk)("Vote de "),(0,r._)("strong",null,(0,a.zw)(o.currentPlayerPseudo),1)])]),(0,r._)("div",i,[(0,r._)("div",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(u.normalCards,(e=>((0,r.wg)(),(0,r.iD)("img",{key:e,id:e,class:(0,a.C_)([{selected:o.cards[e].isSelected}]),onClick:t=>u.clickOnCard(e),src:"https://sgu.ovh/matt/CAPI/"+o.cards[e].fileName},null,10,c)))),128))]),(0,r._)("div",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(u.specialCards,(e=>((0,r.wg)(),(0,r.iD)("img",{key:e,id:e,class:(0,a.C_)([{selected:o.cards[e].isSelected}]),onClick:t=>u.clickOnCard(e),src:"https://sgu.ovh/matt/CAPI/"+o.cards[e].fileName},null,10,l)))),128))])]),(0,r._)("div",null,[(0,r._)("button",{onClick:t[0]||(t[0]=(...e)=>u.tovote&&u.tovote(...e)),disabled:void 0===o.selectedCard},"A VOTÃ‰ !",8,n)])])}s(560);class o{constructor(e){this.isSelected=!1,this.fileName=e}isSelected(){return this.isSelected}select(){this.isSelected=!0}deselect(){this.isSelected=!1}}var u=o,h={name:"CardsBoard",data(){return{partie:this.$store.getters.getPartieInstance,currentBacklogDisplay:void 0,currentBacklogLabel:void 0,currentPlayerPseudo:void 0,cards:{0:new u("cartes_0.png"),1:new u("cartes_1.png"),2:new u("cartes_2.png"),3:new u("cartes_3.png"),5:new u("cartes_5.png"),8:new u("cartes_8.png"),13:new u("cartes_13.png"),20:new u("cartes_20.png"),40:new u("cartes_40.png"),100:new u("cartes_100.png"),"?":new u("cartes_interro.png"),coffee:new u("cartes_cafe.png")},selectedCard:void 0}},mounted(){this.partie=this.$store.getters.getPartieInstance,this.currentBacklogDisplay=this.partie.currentBacklog+1,this.currentBacklogLabel=this.partie.backlogs[this.partie.currentBacklog]["label"],this.currentPlayerPseudo=this.partie.players[this.partie.currentPlayer]["pseudo"]},computed:{normalCards(){return Object.keys(this.cards).filter((e=>!isNaN(e)))},specialCards(){return Object.keys(this.cards).filter((e=>isNaN(e)))}},methods:{isSelected(e){return e.isSelected()},clickOnCard(e){Object.keys(this.cards).forEach((e=>{this.cards[e].deselect()})),this.cards[e].select(),this.selectedCard=e},tovote(){if(this.partie.currentPlayerVote(this.selectedCard),this.$store.dispatch("updatePartieInstance",this.partie),this.partie.allPlayersVoted()){let e=this.partie.computeVote();if(this.$store.dispatch("updatePartieInstance",this.partie),"coffee"==e)return void this.$router.push("/coffeebreak");this.partie.isOver()?this.$router.push("/results"):(this.$store.dispatch("updatePartieInstance",this.partie),this.partie.showChart?this.$router.push("/chart"):this.$router.push("/dashboard"))}else this.partie.currentPlayer++,this.$store.dispatch("updatePartieInstance",this.partie),this.$router.push("/dashboard")}}},p=s(3744);const g=(0,p.Z)(h,[["render",d],["__scopeId","data-v-19c25ea0"]]);var k=g}}]);
//# sourceMappingURL=766.37e6a895.js.map