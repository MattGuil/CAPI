{"version":3,"file":"js/766.37e6a895.js","mappings":"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","sources":["webpack://CAPI/./src/views/CardsBoard.vue","webpack://CAPI/./src/classes/Card.js","webpack://CAPI/./src/views/CardsBoard.vue?ab4f"],"sourcesContent":["<template>\r\n    <div>\r\n        <div>\r\n            <h2>BACKLOG #{{ currentBacklogDisplay }}</h2>\r\n            <h1>{{ currentBacklogLabel }}</h1>\r\n            <h3>Vote de <strong>{{ currentPlayerPseudo }}</strong></h3>\r\n        </div>\r\n        <div id=\"cards\">\r\n            <div>\r\n                <img\r\n                    v-for=\"key in normalCards\"\r\n                    :key=\"key\" \r\n                    :id=\"key\"\r\n                    :class=\"[{'selected' : cards[key].isSelected}]\"\r\n                    @click=\"clickOnCard(key)\"\r\n                    :src=\"'https://sgu.ovh/matt/CAPI/' + cards[key].fileName\"\r\n                >\r\n            </div>\r\n            <div>\r\n                <img\r\n                    v-for=\"key in specialCards\" \r\n                    :key=\"key\" \r\n                    :id=\"key\"\r\n                    :class=\"[{'selected' : cards[key].isSelected}]\"\r\n                    @click=\"clickOnCard(key)\"\r\n                    :src=\"'https://sgu.ovh/matt/CAPI/' + cards[key].fileName\"\r\n                >\r\n            </div>\r\n        </div>\r\n        <div>\r\n            <button @click=\"tovote\" :disabled=\"selectedCard === undefined\">A VOTÃ‰ !</button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Card from '@/classes/Card.js';\r\n\r\nexport default {\r\n    name: 'CardsBoard',\r\n    data() {\r\n        return {\r\n            partie: this.$store.getters.getPartieInstance,\r\n            currentBacklogDisplay: undefined,\r\n            currentBacklogLabel: undefined,\r\n            currentPlayerPseudo: undefined,\r\n            cards: {\r\n                0: new Card('cartes_0.png'),\r\n                1: new Card('cartes_1.png'),\r\n                2: new Card('cartes_2.png'),\r\n                3: new Card('cartes_3.png'),\r\n                5: new Card('cartes_5.png'),\r\n                8: new Card('cartes_8.png'),\r\n                13: new Card('cartes_13.png'),\r\n                20: new Card('cartes_20.png'),\r\n                40: new Card('cartes_40.png'),\r\n                100: new Card('cartes_100.png'),\r\n                '?': new Card('cartes_interro.png'),\r\n                'coffee': new Card('cartes_cafe.png'),\r\n            },\r\n            selectedCard: undefined,\r\n        };\r\n    },\r\n    mounted() {\r\n        this.partie = this.$store.getters.getPartieInstance;\r\n        this.currentBacklogDisplay = this.partie.currentBacklog + 1;\r\n        this.currentBacklogLabel = this.partie.backlogs[this.partie.currentBacklog]['label'];\r\n        this.currentPlayerPseudo = this.partie.players[this.partie.currentPlayer]['pseudo'];\r\n    },\r\n    computed: {\r\n        normalCards() {\r\n            return Object.keys(this.cards).filter(key => !isNaN(key));\r\n        },\r\n        specialCards() {\r\n            return Object.keys(this.cards).filter(key => isNaN(key));\r\n        },\r\n    },\r\n    methods: {\r\n        isSelected(card) {\r\n            return card.isSelected();\r\n        },\r\n        clickOnCard(key) {\r\n            Object.keys(this.cards).forEach(key => {\r\n                this.cards[key].deselect();\r\n            });\r\n            this.cards[key].select();\r\n            this.selectedCard = key;\r\n        },\r\n        tovote() {\r\n            this.partie.currentPlayerVote(this.selectedCard);\r\n            this.$store.dispatch('updatePartieInstance', this.partie);\r\n\r\n            if (!this.partie.allPlayersVoted()) {\r\n                this.partie.currentPlayer++;\r\n                this.$store.dispatch('updatePartieInstance', this.partie);\r\n                this.$router.push('/dashboard');\r\n            } else {\r\n                let r = this.partie.computeVote();\r\n                this.$store.dispatch('updatePartieInstance', this.partie);\r\n                if (r == \"coffee\") {\r\n                    this.$router.push('/coffeebreak');\r\n                    return;\r\n                }\r\n                if (!this.partie.isOver()) {\r\n                    this.$store.dispatch('updatePartieInstance', this.partie);\r\n                    if (this.partie.showChart) {\r\n                        this.$router.push('/chart');\r\n                    } else {\r\n                        this.$router.push('/dashboard');\r\n                    }\r\n                } else {\r\n                    this.$router.push('/results');\r\n                }\r\n            }\r\n        },\r\n    },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\nh1, h2, h3 {\r\n    padding-left: 5%;\r\n}\r\n\r\nh1 {\r\n    font-family: ObjectSans-Heavy;\r\n}\r\n\r\nh2 {\r\n    font-family: ObjectSans-Slanted;\r\n    font-size: 1rem;\r\n}\r\n\r\nh3 {\r\n    font-family: ObjectSans-Slanted;\r\n    opacity: .8;\r\n}\r\n\r\nh3 strong {\r\n    font-family: ObjectSans-HeavySlanted;\r\n    font-size: 2rem;\r\n}\r\n\r\n#content {\r\n    height: 100vh;\r\n}\r\n\r\n#content > div:first-child {\r\n    height: 25%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: flex-end;\r\n}\r\n\r\n#content > div:nth-child(2) {\r\n    height: 50%;\r\n}\r\n\r\n#content > div:last-child {\r\n    height: 25%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\nimg {\r\n    width: 100px;\r\n    margin: 8px;\r\n    opacity: 50%;\r\n    transition: all .2s ease;\r\n}\r\n\r\nimg:hover {\r\n    box-shadow: 4px 4px 4px 0px rgba(81, 140, 229, .8);\r\n}\r\n\r\nimg.selected {\r\n    opacity: 100;\r\n    box-shadow: 8px 8px 4px 0px rgba(81, 140, 229, 0.40);\r\n}\r\n\r\n#cards {\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\n#cards div:first-child {\r\n    display: grid;\r\n    grid-template-columns: repeat(5, 1fr);\r\n    margin-right: 50px;\r\n}\r\n\r\n#cards div:last-child {\r\n    margin-left: 50px;\r\n}\r\n\r\n</style>","// eslint-disable-next-line no-unused-vars\r\nclass Card {\r\n    constructor(fileName) {\r\n        this.isSelected = false;\r\n        this.fileName = fileName;\r\n    }\r\n\r\n    isSelected() {\r\n        return this.isSelected;\r\n    }\r\n\r\n    select() {\r\n        this.isSelected = true;\r\n    }\r\n\r\n    deselect() {\r\n        this.isSelected = false;\r\n    }\r\n}\r\n\r\nexport default Card;","import { render } from \"./CardsBoard.vue?vue&type=template&id=19c25ea0&scoped=true\"\nimport script from \"./CardsBoard.vue?vue&type=script&lang=js\"\nexport * from \"./CardsBoard.vue?vue&type=script&lang=js\"\n\nimport \"./CardsBoard.vue?vue&type=style&index=0&id=19c25ea0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-19c25ea0\"]])\n\nexport default __exports__"],"names":["id","_createElementBlock","_createElementVNode","_toDisplayString","$data","currentBacklogDisplay","currentBacklogLabel","currentPlayerPseudo","_hoisted_1","_Fragment","_renderList","$options","normalCards","key","class","_normalizeClass","cards","isSelected","onClick","$event","clickOnCard","src","fileName","specialCards","_cache","args","tovote","disabled","undefined","selectedCard","_hoisted_4","Card","constructor","this","select","deselect","name","data","partie","$store","getters","getPartieInstance","mounted","currentBacklog","backlogs","players","currentPlayer","computed","Object","keys","filter","isNaN","methods","card","forEach","currentPlayerVote","dispatch","allPlayersVoted","r","computeVote","$router","push","isOver","showChart","__exports__","render"],"sourceRoot":""}